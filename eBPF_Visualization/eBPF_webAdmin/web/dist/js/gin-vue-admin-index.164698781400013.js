/*! 
 Build based on gin-vue-admin 
 Time : 1646987814000 */
import{s as e}from"../gva/gin-vue-admin-index.1646987814000.js";import{r as a,k as l,o as t,I as r,u as s,s as u,i,M as n,j as o,L as d}from"./gin-vue-admin-vendor.1646987814000.js";const v={class:"media"},c={class:"header-img-box-list"},m=u("picture",null,null,-1),p={props:{target:{type:Object,default:null},targetKey:{type:String,default:""}},emits:["enterImg"],setup(p,{expose:g,emit:h}){const y=a(!1),f=a([]),x=a("/api");return g({open:()=>{return a=this,l=null,t=function*(){const a=yield(l={page:1,pageSize:9999},e({url:"/fileUploadAndDownload/getFileList",method:"post",data:l}));var l;f.value=a.data.list,y.value=!0},new Promise(((e,r)=>{var s=e=>{try{i(t.next(e))}catch(a){r(a)}},u=e=>{try{i(t.throw(e))}catch(a){r(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(s,u);i((t=t.apply(a,l)).next())}));var a,l,t}}),(e,a)=>{const g=l("el-icon"),j=l("el-image"),k=l("el-drawer");return t(),r(k,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),title:"媒体库"},{default:s((()=>[u("div",v,[(t(!0),i(d,null,n(f.value,((e,a)=>(t(),r(j,{key:a,class:"header-img-box-list",src:e.url&&"http"!==e.url.slice(0,4)?x.value+e.url:e.url,onClick:a=>{return l=e.url,t=p.target,r=p.targetKey,t&&r&&(t[r]=l),h("enterImg",l),void(y.value=!1);var l,t,r}},{error:s((()=>[u("div",c,[o(g,null,{default:s((()=>[m])),_:1})])])),_:2},1032,["src","onClick"])))),128))])])),_:1},8,["modelValue"])}}};export{p as _};
